<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registrar Artículo - Inventario</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>
<body>
<div class="sideBar">
    <h2>
        <ion-icon name="cube-outline"></ion-icon>
        INVENTARIOS
    </h2>
    <ul>
        <li><a href="/articulos">
            <ion-icon name="list-outline"></ion-icon>
            Mostrar Artículos</a></li>
        <li><a href="/articulos/registrarArticulo" class="active">
            <ion-icon name="add-circle-outline"></ion-icon>
            Registrar Artículo</a></li>
        <li><a href="/articulos/gestionar">
            <ion-icon name="create-outline"></ion-icon>
            Editar Registro</a></li>
        <li><a href="/movimientos">
            <ion-icon name="swap-horizontal-outline"></ion-icon>
            Movimientos</a></li>
        <li><a href="/movimientos/historial">
            <ion-icon name="time-outline"></ion-icon>
            Historial</a></li>
        <li><a href="/reportes">
            <ion-icon name="document-text-outline"></ion-icon>
            Reportes</a></li>
        <li><a href="/loginCCPLL">
            <ion-icon name="log-out-outline"></ion-icon>
            Cerrar Sesión</a></li>
    </ul>
</div>

<div class="contenido">
    <h1>
        <ion-icon name="add-circle-outline"></ion-icon>
        Registrar Nuevo Artículo
    </h1>

    <!-- Mensajes -->
    <div th:if="${success}" class="mensaje-exito">
        <ion-icon name="checkmark-circle-outline"></ion-icon>
        <span th:text="${success}"></span>
    </div>

    <div th:if="${error}" class="mensaje-error">
        <ion-icon name="alert-circle-outline"></ion-icon>
        <span th:text="${error}"></span>
    </div>

    <div class="card">
        <form th:action="@{/articulos/registrarArticulo}" th:object="${articulo}" method="post">
            <div class="form-group">
                <label for="codigo">Código del Artículo:</label>
                <input type="text" id="codigo" th:field="*{codigo}" readonly style="background-color: #f8f9fa; color: #6c757d;">
                <small>⚠️ Código generado automáticamente - No editable</small>
            </div>

            <div class="form-group">
                <label for="descripcion">Descripción:</label>
                <input type="text" id="descripcion" th:field="*{descripcion}" required placeholder="Ingrese la descripción del artículo">
                <small>Nombre o descripción del artículo (obligatorio)</small>
            </div>

            <div class="form-group">
                <label for="unidad">Unidad de Medida:</label>
                <select id="unidad" th:field="*{unidad}" required>
                    <option value="">Seleccione una unidad</option>
                    <option value="UNIDAD">UNIDAD</option>
                    <option value="KILO">KILO</option>
                    <option value="LITRO">LITRO</option>
                    <option value="METRO">METRO</option>
                    <option value="CAJA">CAJA</option>
                    <option value="PAQUETE">PAQUETE</option>
                    <option value="MILLAR">MILLAR</option>
                </select>
                <small>Unidad en la que se mide el artículo (obligatorio)</small>
            </div>

            <div class="form-group">
                <label for="precio">Precio Unitario (S/):</label>
                <input type="number" id="precio" th:field="*{precio}" step="0.01" min="0" placeholder="0.00" required>
                <small>Precio por unidad del artículo (obligatorio)</small>
            </div>

            <div class="form-group">
                <label for="inventarioInicial">Inventario Inicial:</label>
                <input type="number" id="inventarioInicial" th:field="*{inventarioInicial}" min="0" value="0" required>
                <small>Cantidad inicial en inventario (obligatorio)</small>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-primary" id="btnGuardar">
                    <ion-icon name="save-outline"></ion-icon>
                    Guardar Artículo
                </button>
                <a th:href="@{/articulos}" class="btn-cancelar">
                    <ion-icon name="arrow-back-outline"></ion-icon>
                    Cancelar
                </a>
            </div>
        </form>
    </div>
</div>

</body>
</html>